%----------------------------------------
% IT IS RECOMMENDED TO USE AUTOLATEX FOR
% COMPILING THIS DOCUMENT.
% http://www.arakhne.org/autolatex
%----------------------------------------

\documentclass[article,english,nodocumentinfo]{multiagentfrreport}

% The TeX code is entering with UTF8
% character encoding (Linux and MacOS standards)
\usepackage[utf8]{inputenc}
\usepackage{fancyhdr}
\usepackage{../common/sarl-colorized-listing}

\graphicspath{{imgs/auto/},{imgs/},{../common/}}

\declaredocument{Multiagent Simulation}{Lab Work \#2}{UTBM-INFO-IA54-LW2}

\addauthorvalidator*[St\'ephane Galland]{St{\'e}phane}{Galland}{Teacher}

\updateversion{1.0}{\makedate{13}{10}{2015}}{First release on Github}{\upmpublic}
\incsubversion{\makedate{20}{01}{2016}}{Update the template}{\upmpublic}

\Set[french]{institution}{Laboratoire Syst\`emes et Transport}
\Set[english]{institution}{Laboratoire Syst\`emes et Transport}

\Set{mafr_contact_name}{\phdname*{St\'ephane}{Galland}}
\Set{mafr_contact_email}{stephane.galland@utbm.fr}
\Set[french]{mafr_contact_phone}{03~84~58~34~18}
\Set[english]{mafr_contact_phone}{+33 384~583~418}

\gdef\skeletonName{\texttt{\mbox{IA54\_LW2\_skeleton\string.jar}}}

\newif\ifCODESKELETON
\CODESKELETONtrue

\newif\ifJANUSINCLASSPATH
\JANUSINCLASSPATHtrue

\begin{document}

\section{Goal of this Lab Work Session}

The goal of this lab work session is to write a simulator of the famous Pacman game.

You shall learn: 
\begin{itemize}
\item How to write the agent perception computation.
\item How to write the agent perception action mechanism.
\item How to write the Ghost behavior.
\item How to synchronize the agents.
\end{itemize}

\input{../common/install}

\section{Brief Description of the Code Skeleton}

The skeleton contains an implementation of the environment model (a maze) \texttt{fr.utbm.info.ia54.environment}, and the agent that is managing the environment.
The subpackages are or will be:
\begin{itemize}
\item \texttt{fr.utbm.info.ia54.environment.maze} is the package that contains the definition of the maze, and the objects inside.
\item \texttt{fr.utbm.info.ia54.environment.agent} is the package in which you could find the definition of the agent and the interaction space that are needed for supported the maze environment in the simulation.
\end{itemize}

\emph{It is recommended to read this code and the associated Javadoc.}

The package \texttt{fr.utbm.info.ia54.players} contains the playing agents, i.e. the ghosts.

The packages \texttt{fr.utbm.info.ia54.math} and \texttt{fr.utbm.info.ia54.ui} contain mathematical tools and the graphical user interface.
The file \texttt{fr/utbm/info/ia54/PacManSimulator.java} contains the main program.

\section{Work to be Done during the Lab Work Session}

The following sections describe the work to be done during this lab work session.

\subsection{Capacity to Manage a Maze}

The agent \texttt{Environment} is in charge of managing the maze and the interactions with the playing agents (the ghosts), and the pacman.
The agent \texttt{Environment} has the knowledge of the maze. 
It means that this agent has the capacity to manage the maze.
This capacity is \texttt{MazeManager}, defined in the file \texttt{fr/utbm/info/ia54/environment/agent/Capacities.sarl}.


You must create a skill, i.e. an implementation of a capacity, for the capacity \texttt{MazeManager}.
In the code skeleton, this skill is named \texttt{DefaultMazeManagerSkill}, and all the functions inside must be code.
The skill contains a reference to the maze.

You should:
\begin{enumerate}[a)]
\item implement the functions in \texttt{DefaultMazeManagerSkill} that implements the functions defined in \texttt{MazeManager}.
\end{enumerate}

Two functions may be overriden for coding the skill:
\begin{itemize}
\item \texttt{def install}: it is invoked when the agent is starting to use the skill; and
\item \texttt{def uninstall}: it is invoked when the agent is stopping to use the skill.
\end{itemize}

\subsection{Capacity to be the Front-End to Players}

The agent \texttt{Environment} is also in charge of providing the perceptions to the playing agents, i.e. the ghosts, and to accept the actions from them.
It means that this agent has the capacity to be the front-end to the player.
This capacity is \texttt{MazeFrontEnd}, defined in the file \texttt{fr/utbm/info/ia54/environment/agent/Capacities.sarl}.

You should:
\begin{enumerate}[a)]
\item implement the functions in \texttt{DefaultMazeFrontEndSkill} that implements the functions defined in \texttt{MazeFrontEnd}.
\end{enumerate}

Be sure that your capacity is creating an interaction space from the space specification \texttt{MazeSpaceSpecification}, and with the proper ID.

You could take a look in the definition of \texttt{DefaultMazeMotionSkill} that is the counter part (in the players) of the \texttt{DefaultMazeFrontEndSkill} capacity.

\subsection{Ghost Behavior}

The agent \texttt{Ghost} must be defined in the file \texttt{fr/utbm/info/ia54/players/Players.sarl}

This agent should:
\begin{itemize}
\item Pursue the pacman if it is in the field-of-view of the ghost, and the pacman has no super power.
\item Evade the pacman if it is in the field-of-view of the ghost, and the pacman has the super power.
\item Move randomly, but avoiding to turn back in the middle of a corridor.
\end{itemize}

\end{document}
